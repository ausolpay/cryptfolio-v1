<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptFolio v2 | Real-time Holdings Tracker</title>
    <link rel="icon" type="image/x-icon" href="favicon.png">
   <!-- Include Odometer stylesheet -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/odometer.js/0.4.8/themes/odometer-theme-default.min.css">
   <!-- Include Odometer script -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/odometer.js/0.4.8/odometer.min.js"></script>
   <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C7DZD5J9D7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C7DZD5J9D7');
</script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="dark-mode">
    <!-- Top Navigation Strip -->
    <nav class="top-nav" id="top-nav">
        <div class="nav-content">
            <!-- Mobile: Hamburger Button -->
            <button class="hamburger-btn" id="hamburger-btn" onclick="toggleMobileMenu()">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>

            <!-- Desktop: Navigation Links -->
            <div class="nav-links">
                <a href="about.html" class="nav-link">ABOUT</a>
                <a href="#" class="nav-link" onclick="goToAppPage(); return false;">CRYPTFOLIO WEB APP</a>
                <a href="docs.html" class="nav-link">DOCS</a>
                <a href="contact.html" class="nav-link">CONTACT</a>
            </div>

            <!-- Right: Profile, Donate, Logo -->
            <div class="nav-right">
                <!-- Profile Dropdown (Desktop) -->
                <div class="profile-dropdown desktop-only">
                    <button class="profile-btn" onclick="toggleProfileDropdown()">
                        <div class="profile-icon">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                        </div>
                    </button>
                    <div class="dropdown-menu" id="profile-dropdown-menu">
                        <a href="#" class="dropdown-item" onclick="showAccountSettingsPage(); closeProfileDropdown(); return false;">Account Settings</a>
                        <a href="#" class="dropdown-item" onclick="showSettingsPage(); closeProfileDropdown(); return false;">App Settings</a>
                        <a href="preferences.html" class="dropdown-item">Preferences</a>
                        <a href="help.html" class="dropdown-item">Help</a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item" id="nav-login-btn" onclick="navLogin(); return false;" style="display: none;">Login</a>
                        <a href="#" class="dropdown-item" id="nav-logout-btn" onclick="navLogout(); return false;">Logout</a>
                    </div>
                </div>

                <!-- Donate Button (Desktop) -->
                <a href="#" class="donate-btn desktop-only">Donate Dev</a>

                <!-- Logo -->
                <img src="ausolpay-logo.png" alt="Logo" class="nav-logo">
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-content">
            <a href="about.html" class="mobile-menu-link" onclick="closeMobileMenu()">ABOUT</a>
            <a href="#" class="mobile-menu-link" onclick="goToAppPage(); closeMobileMenu(); return false;">CRYPTFOLIO WEB APP</a>
            <a href="docs.html" class="mobile-menu-link" onclick="closeMobileMenu()">DOCS</a>
            <a href="contact.html" class="mobile-menu-link" onclick="closeMobileMenu()">CONTACT</a>
            <div class="mobile-menu-divider"></div>
            <a href="#" class="mobile-menu-link" onclick="showAccountSettingsPage(); closeMobileMenu(); return false;">Account Settings</a>
            <a href="#" class="mobile-menu-link" onclick="showSettingsPage(); closeMobileMenu(); return false;">App Settings</a>
            <a href="preferences.html" class="mobile-menu-link" onclick="closeMobileMenu()">Preferences</a>
            <a href="help.html" class="mobile-menu-link" onclick="closeMobileMenu()">Help</a>
            <div class="mobile-menu-divider"></div>
            <a href="#" class="mobile-menu-link" id="mobile-login-btn" onclick="navLogin(); closeMobileMenu(); return false;" style="display: none;">Login</a>
            <a href="#" class="mobile-menu-link" id="mobile-logout-btn" onclick="navLogout(); closeMobileMenu(); return false;">Logout</a>
            <div class="mobile-menu-divider"></div>
            <a href="#" class="mobile-donate-btn" onclick="closeMobileMenu()">Donate Dev</a>
        </div>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="container">
        <div class="header">
            <div>
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <h1 class="app-title">CRYPTFOLIO v2</h1>
                <p>Track your investments in real-time!</p>

            </div>
            <div class="login-form">
                <input type="email" id="email-login" placeholder="Email">
                <input type="password" id="password-login" placeholder="Password">
                <div class="login-buttons">
                    <button onclick="showRegisterPage()">New user? Register</button>
                    <button onclick="login()">Login</button>
                </div>
                <div class="app-footer" style="margin-top: 20px;">
                    <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
                    <span class="footer-separator"></span>
                    <div class="footer-text">
                        <span>CryptFolio v2 (Beta)</span>
                        <span class="footer-divider">|</span>
                        <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                        <span class="footer-divider">|</span>
                        <span>Data by CoinGecko / MEXC</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Page -->
    <div id="register-page" class="container" style="display: none;">
        <div class="header">
            <div>
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <h1 class="app-title">CRYPTFOLIO v2</h1>
                <p>Create your account</p>
            </div>
            <div class="register-form">
                <div class="name-fields">
                    <input type="text" id="first-name" placeholder="First Name">
                    <input type="text" id="last-name" placeholder="Last Name">
                </div>
                <input type="email" id="email-register" placeholder="Email">
                <input type="tel" id="phone" placeholder="Phone Number" maxlength="10" pattern="\d{4} \d{3} \d{3}">
                <input type="password" id="password-register" placeholder="Create Password">
                <input type="password" id="confirm-password" placeholder="Confirm Password">
                <label>
                    <input type="checkbox" id="terms-conditions">
                    I accept the <a href="#" onclick="showTermsConditions()">terms and conditions</a>
                </label>
                <div class="register-buttons">
                    <button onclick="register()">Register</button>
                    <button onclick="showLoginPage()">Already a user? Login</button>
                </div>
            </div>
        </div>
    </div>

    <!-- App Page -->
    <div id="app-page" class="container" style="display: none;">
        <div class="header-row">
            <!-- Left Group: Logo | Separator | Text -->
            <div class="header-left">
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <div class="header-separator"></div>
                <div class="header-text">
                    <p class="header-tagline">Track your investments in real-time!</p>
                    <p class="header-subtitle">Add <a href="https://docs.google.com/spreadsheets/d/1wTTuxXt8n9q7C4NDXqQpI3wpKu1_5bGVmP9Xz0XGSyU/edit?usp=sharing" target="_blank">Crypto ID's</a> to get started.</p>
                </div>
            </div>

            <!-- Right: Add Crypto Input -->
            <div class="add-crypto">
                <div class="autocomplete-wrapper">
                    <input type="text" id="crypto-id-input" placeholder="Enter Crypto ID" autocomplete="off">
                    <div id="autocomplete-list" class="autocomplete-items"></div>
                </div>
                <button onclick="addCrypto()">Add</button>
            </div>
        </div>

        <div id="lottie-container" style="position: relative; bottom: 0; height: 80vh; width: 100%; overflow: hidden; display: none;">
            <lottie-player id="milestone-animation" src="https://lottie.host/ffe369c1-ce7f-4005-a652-528160576322/Eki4u779U6.json" background="transparent" speed="1" style="width: 100%; height: 100%;" loop autoplay></lottie-player>
        </div>

        <div class="portfolio-strip">
            <div class="portfolio-strip-content">
                <!-- Total Holdings (Hero) - Clickable to open fullscreen modal -->
                <div class="portfolio-hero">
                    <div class="hero-main">
                        <span id="total-holdings" class="hero-value">$0.00</span>
                    </div>
                    <div class="hero-change">
                        <div class="hero-change-values">
                            <span id="percentage-change" class="neutral">
                                <span class="triangle"></span> 0.00%
                            </span>
                            <span id="value-change" class="neutral">($0.00)</span>
                            <span class="change-label neutral">24H</span>
                        </div>
                    </div>
                </div>

                <!-- Portfolio Stats Toggle -->
                <div class="portfolio-stats-toggle" onclick="togglePortfolioDetails()">
                    <span id="portfolio-arrow" class="arrow">‚ñ∂</span>
                    <span class="toggle-text">Portfolio Stats</span>
                </div>

                <!-- Collapsible Details Section -->
                <div id="portfolio-details" class="portfolio-details collapsed">
                    <!-- Stats Grid -->
                    <div class="portfolio-stats-grid">
                        <div class="stat-item">
                            <span id="crypto-count" class="stat-value">0</span>
                            <span class="stat-label">Cryptos</span>
                        </div>
                        <div class="stat-item">
                            <span id="added-today" class="stat-value neutral">$0.00</span>
                            <span class="stat-label">Added Today</span>
                        </div>
                        <div class="stat-item">
                            <span id="record-high" class="stat-value positive">
                                <span class="triangle triangle-up"></span> $0.00
                            </span>
                            <span class="stat-label">Record High</span>
                        </div>
                        <div class="stat-item">
                            <span id="record-low" class="stat-value negative">
                                <span class="triangle triangle-down"></span> $0.00
                            </span>
                            <span class="stat-label">Record Low</span>
                        </div>
                        <div class="stat-item">
                            <span id="daily-milestone" class="stat-value">$0.00</span>
                            <span class="stat-label">Target</span>
                        </div>
                    </div>

                    <!-- PnL + Best Performer -->
                    <div class="portfolio-pnl-grid">
                        <div class="pnl-item">
                            <span id="strip-unrealized-pnl" class="pnl-value neutral">$0.00</span>
                            <span class="pnl-label">Unrealized PnL</span>
                        </div>
                        <div class="pnl-item">
                            <span id="strip-realized-pnl" class="pnl-value neutral">$0.00</span>
                            <span class="pnl-label">Realized PnL</span>
                        </div>
                        <div class="best-performer-item">
                            <div class="performer-display">
                                <img id="best-performer-icon" src="" alt="" class="performer-icon" style="display: none;">
                                <span id="best-performer-name" class="performer-name">--</span>
                                <span id="best-performer-change" class="performer-change neutral">0.00%</span>
                            </div>
                            <span class="performer-label">Best Performer</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- EasyMining Section -->
        <!-- Loading bar for initial data load -->
        <div id="easymining-loading-bar" class="easymining-loading-bar" style="display: none;">
            <div class="loading-bar-container">
                <div class="loading-bar-progress" id="easymining-loading-progress">
                    <div class="loading-bar-rocket">üöÄ</div>
                </div>
            </div>
            <div class="loading-bar-text" id="loading-bar-text">Loading EasyMining data...</div>
        </div>

        <div id="easymining-section" class="easymining-section collapsed">
            <div class="easymining-header" onclick="toggleEasyMining()">
                <span id="easymining-arrow" class="arrow">‚ñ∂</span>
                <span class="toggle-text">EasyMining</span>
            </div>
            <div id="easymining-content" class="easymining-content" style="display: none;">
                <div class="easymining-balances">
                    <div class="balance-item">
                        <span class="balance-label">Available BTC:</span>
                        <span id="easymining-available-btc" class="balance-value">0.00000000</span>
                    </div>
                    <div class="balance-item">
                        <span class="balance-label">Available AUD:</span>
                        <span id="easymining-available-aud" class="balance-value">$0.00</span>
                    </div>
                    <div class="balance-item">
                        <span class="balance-label">Pending BTC:</span>
                        <span id="easymining-pending-btc" class="balance-value">0.00000000</span>
                    </div>
                    <div class="balance-item">
                        <span class="balance-label">Pending AUD:</span>
                        <span id="easymining-pending-aud" class="balance-value">$0.00</span>
                    </div>
                    <button onclick="showBuyPackagesPage()" class="buy-packages-btn">Buy Packages</button>
                    <button onclick="showDepositsPage()" class="deposit-btn">üí∞ Deposit</button>
                    <button onclick="showWithdrawPage()" class="withdraw-btn">üí∏ Withdraw BTC</button>
                    <button onclick="clearRockets()" class="clear-rockets-btn">üßπ Clear Rockets</button>
                </div>
                
                <div class="blocks-found-display">
                    <span class="blocks-found-label">Blocks Found</span>
                    <div id="blocks-found-rockets" class="blocks-found-rockets"></div>
                </div>

                <div class="easymining-main-content">
                    <div class="active-packages-section">
                        <h3>My Packages</h3>

                        <!-- Package Filter Tabs -->
                        <div class="package-tabs">
                            <button class="package-tab active" onclick="switchPackageTab('active')">
                                Active
                                <span id="active-count" class="tab-count">0</span>
                            </button>
                            <button class="package-tab" onclick="switchPackageTab('completed')">
                                Completed
                                <span id="completed-count" class="tab-count">0</span>
                            </button>
                            <button class="package-tab" onclick="switchPackageTab('rewards')">
                                Rewards
                                <span id="rewards-count" class="tab-count">0</span>
                            </button>
                        </div>

                        <div id="active-packages-container" class="active-packages-container"></div>

                        <!-- Package Navigation Controls (Desktop: 6 per page, Mobile: 3 per page) -->
                        <div class="package-carousel-controls" id="package-carousel-controls" style="display: none;">
                            <button class="package-arrow left" id="package-arrow-left" onclick="prevPackagePage()" disabled>‚Äπ</button>
                            <span class="package-page-count" id="package-page-count">1 of 1</span>
                            <button class="package-arrow right" id="package-arrow-right" onclick="nextPackagePage()">‚Ä∫</button>
                        </div>
                    </div>

                    <div class="stats-section">
                        <div class="stats-group">
                            <h3>All Time Stats</h3>
                            <div class="stat-item">
                                <span class="stat-label">Total Blocks Found:</span>
                                <span id="total-blocks-all" class="stat-value">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Total Reward:</span>
                                <span id="total-reward-all" class="stat-value">$0.00</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Total Spent:</span>
                                <span id="total-spent-all" class="stat-value">$0.00</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">P&L:</span>
                                <span id="pnl-all" class="stat-value">$0.00</span>
                            </div>
                        </div>
                        
                        <div class="stats-group">
                            <h3>Today's Stats</h3>
                            <div class="stat-item">
                                <span class="stat-label">Blocks Found:</span>
                                <span id="total-blocks-today" class="stat-value">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Spent Today:</span>
                                <span id="total-spent-today" class="stat-value">$0.00</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Rewards Today:</span>
                                <span id="rewards-today" class="stat-value">$0.00</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">P&L Today:</span>
                                <span id="pnl-today" class="stat-value">$0.00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="recommendations-section">
                    <div class="easymining-subheader">Solo Package Alerts</div>
                    <div id="best-packages-container" class="recommendations-container"></div>

                    <div class="easymining-subheader">Team Package Alerts</div>
                    <div id="team-alerts-container" class="recommendations-container"></div>
                </div>
            </div>
        </div>

        <div id="crypto-containers">
            <!-- Dynamic crypto containers will be added here -->
        </div>

        <div class="app-footer">
            <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
            <span class="footer-separator"></span>
            <div class="footer-text">
                <span>CryptFolio v2 (Beta)</span>
                <span class="footer-divider">|</span>
                <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                <span class="footer-divider">|</span>
                <span>Data by CoinGecko / MEXC</span>
            </div>
        </div>
    </div>

    <!-- EasyMining Settings Page -->
    <div id="easymining-settings-page" class="container" style="display: none;">
        <div class="settings-page-content">
            <div class="settings-page-header">
                <h1>EasyMining Settings</h1>
                <p>Configure your NiceHash EasyMining integration</p>
            </div>

            <!-- API Credentials Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">NiceHash API Credentials</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">API Key</span>
                            <input type="text" id="nicehash-api-key-page" class="settings-input" placeholder="Enter your NiceHash API Key">
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">API Secret</span>
                            <input type="password" id="nicehash-api-secret-page" class="settings-input" placeholder="Enter your NiceHash API Secret">
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Organization ID</span>
                            <input type="text" id="nicehash-org-id-page" class="settings-input" placeholder="Enter your Organization ID">
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Activate EasyMining</span>
                            <span class="settings-row-desc">Connect to NiceHash with your credentials</span>
                        </div>
                        <button class="settings-action-btn" onclick="activateEasyMiningFromPage()">Activate</button>
                    </div>
                </div>
            </div>

            <!-- Holdings Auto-Update Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Holdings Auto-Update</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Auto-update Holdings (Block Rewards)</span>
                            <span class="settings-row-desc">Automatically add block rewards to portfolio</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="auto-update-holdings-toggle-page">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Auto-update BTC from Available Balance</span>
                            <span class="settings-row-desc">Include available BTC balance in portfolio</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="include-available-btc-toggle-page">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Auto-update BTC from Pending Balance</span>
                            <span class="settings-row-desc">Include pending BTC balance in portfolio</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="include-pending-btc-toggle-page">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Auto-Buy Bot Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Auto-Buy Bot</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Auto-buy Bot Cooldowns</span>
                            <span class="settings-row-desc">Automatically purchase cooldowns</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="auto-buy-cooldown-toggle-page" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Auto-buy Bot Clear Shares (TP)</span>
                            <span class="settings-row-desc">Clear team shares on take profit</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="auto-clear-team-shares-toggle-page" onchange="toggleAutoClearTeamGoldCheckbox()">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row" style="padding-left: 40px;">
                        <div class="settings-row-info">
                            <span class="settings-row-label" style="color: #888;">Exclude Team Gold from Auto-Clear</span>
                            <span class="settings-row-desc">Keep Team Gold packages when clearing</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="auto-clear-exclude-team-gold" disabled>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Auto-buy Bot Bail (TP)</span>
                            <span class="settings-row-desc">Bail at threshold percentage</span>
                            <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
                                <input type="number" id="autoClearThreshold" min="0" max="100" value="50" placeholder="50"
                                       style="width: 60px; padding: 5px; border-radius: 5px; border: 1px solid #444; background: #2a2a2a; color: #fff; text-align: center;">
                                <span style="color: #888;">%</span>
                            </div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="autoClearActiveShares">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row" style="padding-left: 40px;">
                        <div class="settings-row-info">
                            <span class="settings-row-label" style="color: #888;">Include manually bought packages</span>
                            <span class="settings-row-desc">Include manual packages in bail</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="teamBailIncludeManual">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Auto-buy Bot - Reward & Bail (TP)</span>
                            <span class="settings-row-desc">Reward and bail on take profit</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="rewardAndBailToggle">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row" style="padding-left: 40px;">
                        <div class="settings-row-info">
                            <span class="settings-row-label" style="color: #888;">Include manually bought packages</span>
                            <span class="settings-row-desc">Include manual packages in reward & bail</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="rewardAndBailIncludeManual">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Auto Buy - TG Safe Hold</span>
                            <span class="settings-row-desc">Safe hold for Team Gold packages</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="auto-buy-tg-safe-hold-toggle-page">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label" style="color: #ff6b6b;">Auto-Clear on Drop</span>
                            <span class="settings-row-desc">Clear shares if hashrate or participants drops significantly</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="autoClearOnDropToggle">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row" style="padding-left: 20px;">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Drop Threshold</span>
                            <span class="settings-row-desc">Percentage drop that triggers auto-clear</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <input type="number" id="autoClearDropThreshold" min="10" max="90" value="50"
                                   style="width: 60px; padding: 5px; border-radius: 5px; border: 1px solid #444; background: #2a2a2a; color: #fff; text-align: center;">
                            <span style="color: #888;">%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Management Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Management</h3>
                <div class="settings-card">
                    <div class="settings-row clickable" onclick="showWithdrawalAddressesPage()">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Withdrawal Addresses</span>
                            <span class="settings-row-desc">Manage your withdrawal addresses</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                    <div class="settings-row clickable" onclick="showPackageAlertsPage()">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Package Alerts</span>
                            <span class="settings-row-desc">Configure package notifications</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                    <div class="settings-row clickable" onclick="showTravelDataPage()">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Travel Data</span>
                            <span class="settings-row-desc">Manage saved travel data</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="settings-section">
                <h3 class="settings-section-title danger">Danger Zone</h3>
                <div class="settings-card danger">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Clear API Credentials</span>
                            <span class="settings-row-desc">Remove all NiceHash API credentials</span>
                        </div>
                        <button class="settings-danger-btn" onclick="clearAPICredentials()">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Back Button -->
            <div class="settings-page-footer">
                <button class="settings-back-btn" onclick="showAppPage()">‚Üê Back to Portfolio</button>
            </div>

            <div class="settings-page-copyright app-footer">
                <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
                <span class="footer-separator"></span>
                <div class="footer-text">
                    <span>CryptFolio v2 (Beta)</span>
                    <span class="footer-divider">|</span>
                    <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                    <span class="footer-divider">|</span>
                    <span>Data by CoinGecko / MEXC</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Withdrawal Addresses Page -->
    <div id="withdrawal-addresses-page" class="container" style="display: none;">
        <div class="header">
            <div>
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <h1 class="app-title">CRYPTFOLIO v2</h1>
                <p>Withdrawal Addresses</p>
            </div>

            <div class="easymining-settings-form">
                <h3 style="margin-top: 0; color: #ffa500;">üìç Manage Crypto Withdrawal Addresses</h3>
                <p style="color: #aaa; font-size: 14px; margin-bottom: 20px;">
                    Set your wallet addresses for each cryptocurrency. These addresses will be used automatically when purchasing mining packages.
                </p>

                <div id="withdrawal-addresses-list">
                    <!-- Addresses will be populated here by JavaScript -->
                </div>

                <div style="margin-top: 30px;">
                    <button onclick="loadNiceHashSavedAddresses()" style="background-color: #2196F3; margin-bottom: 10px; width: 100%;">üì• Use NH Saved Addresses</button>
                    <button onclick="saveWithdrawalAddresses()" style="background-color: #4CAF50;">üíæ Save Addresses</button>
                    <button onclick="clearWithdrawalAddresses()" class="delete-button" style="margin-left: 10px;">Clear All Addresses</button>
                </div>
            </div>
        </div>

        <div class="buttons">
            <button onclick="showEasyMiningSettingsPage()">‚Üê Back to EasyMining Settings</button>
        </div>

        <div class="app-footer">
            <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
            <span class="footer-separator"></span>
            <div class="footer-text">
                <span>CryptFolio v2 (Beta)</span>
                <span class="footer-divider">|</span>
                <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                <span class="footer-divider">|</span>
                <span>Data by CoinGecko / MEXC</span>
            </div>
        </div>
    </div>

    <!-- Package Alerts Page -->
    <div id="package-alerts-page" class="container" style="display: none;">
        <div class="header">
            <div>
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <h1 class="app-title">CRYPTFOLIO v2</h1>
                <p>Package Alert Settings</p>
            </div>

            <div class="easymining-settings-form">
                <h3 style="margin-top: 0; color: #ffa500;">üîî Package Alert Settings</h3>

                <!-- Tabs for Solo and Team alerts -->
                <div class="buy-packages-tabs" style="margin-bottom: 20px;">
                    <button class="tab-button active" onclick="showAlertTab('solo')">Solo Alerts</button>
                    <button class="tab-button" onclick="showAlertTab('team')">Team Alerts</button>
                </div>

                <!-- Solo Alerts Tab -->
                <div id="solo-alerts-tab" class="alert-tab-content">
                    <p style="color: #aaa; font-size: 14px; margin-bottom: 10px;">
                        Set probability thresholds for solo packages. When a package's probability falls to or below your set value, it will appear in recommendations.
                    </p>
                    <p style="color: #4CAF50; font-size: 13px; margin-bottom: 15px;">
                        üí° Example: Set "130" for Silver S means it will be recommended when probability is 1:130 or better (like 1:120, 1:100, etc.)
                    </p>

                    <div id="solo-alerts-list" style="max-height: 500px; overflow-y: auto;">
                        <!-- Solo alert settings populated by JavaScript -->
                    </div>

                    <button onclick="saveSoloAlerts()" style="background-color: #4CAF50; margin-top: 20px;">üíæ Save Solo Alerts</button>
                    <button onclick="clearSoloAlerts()" class="delete-button" style="margin-top: 10px;">Clear Solo Alerts</button>
                </div>

                <!-- Team Alerts Tab -->
                <div id="team-alerts-tab" class="alert-tab-content" style="display: none;">
                    <p style="color: #aaa; font-size: 14px; margin-bottom: 10px;">
                        Set thresholds for team packages. Packages meeting ANY threshold will appear in recommendations.
                    </p>
                    <p style="color: #4CAF50; font-size: 13px; margin-bottom: 15px;">
                        üí° Set probability, minimum shares, or minimum participants. Leave blank to ignore that criterion.
                    </p>

                    <div id="team-alerts-list" style="max-height: 500px; overflow-y: auto;">
                        <!-- Team alert settings populated by JavaScript -->
                    </div>

                    <button onclick="saveTeamAlerts()" style="background-color: #4CAF50; margin-top: 20px;">üíæ Save Team Alerts</button>
                    <button onclick="clearTeamAlerts()" class="delete-button" style="margin-top: 10px;">Clear Team Alerts</button>
                </div>
            </div>
        </div>

        <div class="buttons">
            <button onclick="showBuyPackagesPage()">‚Üê Back to Buy Packages</button>
        </div>

        <div class="app-footer">
            <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
            <span class="footer-separator"></span>
            <div class="footer-text">
                <span>CryptFolio v2 (Beta)</span>
                <span class="footer-divider">|</span>
                <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                <span class="footer-divider">|</span>
                <span>Data by CoinGecko / MEXC</span>
            </div>
        </div>
    </div>

    <!-- Travel Data Page -->
    <div id="travel-data-page" class="container" style="display: none;">
        <div class="header">
            <div>
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <h1 class="app-title">CRYPTFOLIO v2</h1>
                <p>Manage Saved Travel Data</p>
            </div>

            <div class="easymining-settings-form">
                <h3 style="margin-top: 0; color: #ffa500;">‚úàÔ∏è Manage Saved Travel Data</h3>
                <p style="color: #aaa; font-size: 14px; margin-bottom: 20px;">
                    Save travel rule data for quick access when creating Lightning deposit addresses.
                </p>

                <!-- Saved Travel Data Dropdown -->
                <div class="input-group">
                    <label for="saved-travel-data-select">Saved Travel Data:</label>
                    <select id="saved-travel-data-select" onchange="loadSelectedTravelData()" style="background-color: #2a2a2a; color: #fff; padding: 10px; border: 1px solid #444; border-radius: 5px; width: 100%;">
                        <option value="">Select saved travel data...</option>
                    </select>
                </div>

                <!-- Add New Address Button -->
                <div style="margin: 20px 0;">
                    <button onclick="toggleTravelDataForm()" id="add-travel-data-btn" style="background-color: #4CAF50; width: 100%;">‚ûï Add New Address</button>
                </div>

                <!-- Travel Data Form (Hidden by default) -->
                <div id="travel-data-form" style="display: none;">
                    <hr style="border: 1px solid #333; margin: 20px 0;">

                    <!-- VASP Dropdown -->
                    <div class="input-group">
                        <label for="travel-vasp-select">Select Sender VASP: *</label>
                        <select id="travel-vasp-select" required style="background-color: #2a2a2a; color: #fff; padding: 10px; border: 1px solid #444; border-radius: 5px; width: 100%;">
                            <option value="">Select VASP...</option>
                        </select>
                    </div>

                    <!-- Legal Entity Checkbox -->
                    <div class="setting-item" style="margin: 20px 0;">
                        <label class="switch">
                            <input type="checkbox" id="travel-legal-entity-checkbox" onchange="toggleLegalEntityFields()">
                            <span class="slider round"></span>
                        </label>
                        <label for="travel-legal-entity-checkbox">The sender is a legal entity</label>
                    </div>

                    <!-- Individual Name Fields (shown by default) -->
                    <div id="individual-name-fields">
                        <div class="input-group">
                            <label for="travel-first-name">First Name: *</label>
                            <input type="text" id="travel-first-name" placeholder="Enter first name">
                        </div>

                        <div class="input-group">
                            <label for="travel-last-name">Last Name: *</label>
                            <input type="text" id="travel-last-name" placeholder="Enter last name">
                        </div>
                    </div>

                    <!-- Legal Entity Name Field (hidden by default) -->
                    <div id="legal-entity-name-field" style="display: none;">
                        <div class="input-group">
                            <label for="travel-legal-name">Legal Entity Name: *</label>
                            <input type="text" id="travel-legal-name" placeholder="Enter legal entity name">
                        </div>
                    </div>

                    <!-- Post Code -->
                    <div class="input-group">
                        <label for="travel-postal-code">Post Code: *</label>
                        <input type="text" id="travel-postal-code" placeholder="Enter post/zip code">
                    </div>

                    <!-- Town/City -->
                    <div class="input-group">
                        <label for="travel-town">Town / City: *</label>
                        <input type="text" id="travel-town" placeholder="Enter town or city">
                    </div>

                    <!-- Country Dropdown -->
                    <div class="input-group">
                        <label for="travel-country-select">Select Country: *</label>
                        <select id="travel-country-select" required style="background-color: #2a2a2a; color: #fff; padding: 10px; border: 1px solid #444; border-radius: 5px; width: 100%;">
                            <option value="">Select country...</option>
                        </select>
                    </div>

                    <!-- Saved Name -->
                    <div class="input-group">
                        <label for="travel-saved-name">Saved Name (Nickname): *</label>
                        <input type="text" id="travel-saved-name" placeholder="e.g., My Binance Account">
                    </div>

                    <!-- Save Button -->
                    <div style="margin-top: 20px;">
                        <button onclick="saveTravelData()" style="background-color: #4CAF50; width: 100%;">üíæ Save Travel Data</button>
                    </div>
                </div>

                <!-- Delete Button (shown when travel data selected) -->
                <div id="delete-travel-data-section" style="display: none; margin-top: 20px;">
                    <button onclick="deleteTravelData()" class="delete-button" style="width: 100%;">üóëÔ∏è Delete Selected Travel Data</button>
                </div>
            </div>
        </div>

        <div class="buttons">
            <button onclick="showEasyMiningSettingsPage()">‚Üê Back to EasyMining Settings</button>
        </div>

        <div class="app-footer">
            <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
            <span class="footer-separator"></span>
            <div class="footer-text">
                <span>CryptFolio v2 (Beta)</span>
                <span class="footer-divider">|</span>
                <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                <span class="footer-divider">|</span>
                <span>Data by CoinGecko / MEXC</span>
            </div>
        </div>
    </div>

    <!-- BTC Lightning Deposits Page -->
    <div id="deposits-page" class="container" style="display: none;">
        <div class="header">
            <div>
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <h1 class="app-title">CRYPTFOLIO v2</h1>
                <p>Deposit BTC to NH Balance</p>
            </div>

            <!-- Balance Section -->
            <div id="deposits-balance-section" style="margin-bottom: 20px;"></div>

            <div class="easymining-settings-form">
                <h3 style="margin-top: 0; color: #ffa500;">‚ö° BTC Lightning Deposit</h3>
                <p style="color: #aaa; font-size: 14px; margin-bottom: 20px;">
                    Generate a Lightning Network deposit address with travel rule data.
                </p>

                <!-- Travel Rule Checkbox -->
                <div class="input-group" style="margin-bottom: 15px;">
                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                        <input type="checkbox" id="deposit-travel-rule-checkbox" checked onchange="toggleTravelRuleOptions()" style="cursor: pointer; width: 18px; height: 18px;">
                        <span>I want to fill sender travel rule data</span>
                    </label>
                </div>

                <!-- Self-Custodial Checkbox (Hidden by default, shown when travel rule is checked) -->
                <div class="input-group" id="deposit-self-custodial-group" style="margin-bottom: 15px;">
                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                        <input type="checkbox" id="deposit-self-custodial-checkbox" onchange="toggleSelfCustodialOptions()" style="cursor: pointer; width: 18px; height: 18px;">
                        <span>I'm using a self-custodial wallet</span>
                    </label>
                </div>

                <!-- Travel Data Dropdown (Shown when travel rule is checked and self-custodial is unchecked) -->
                <div class="input-group" id="deposit-travel-data-group">
                    <label for="deposit-travel-data-select">Select Saved Travel Data: *</label>
                    <select id="deposit-travel-data-select" style="background-color: #2a2a2a; color: #fff; padding: 10px; border: 1px solid #444; border-radius: 5px; width: 100%;">
                        <option value="">Select travel data...</option>
                    </select>
                </div>

                <!-- Invoice Amount BTC -->
                <div class="input-group">
                    <label for="deposit-amount-btc">Invoice Amount (BTC): *</label>
                    <input type="number" id="deposit-amount-btc" placeholder="0.00000000" step="0.00000001" min="0" oninput="convertBtcToAud()">
                </div>

                <!-- Invoice Amount AUD -->
                <div class="input-group">
                    <label for="deposit-amount-aud">Invoice Amount (AUD): *</label>
                    <input type="number" id="deposit-amount-aud" placeholder="0.00" step="0.01" min="0" oninput="convertAudToBtc()">
                </div>

                <!-- Generate Button -->
                <div style="margin: 20px 0;">
                    <button onclick="generateLightningAddress()" id="generate-deposit-btn" style="background-color: #4CAF50; width: 100%;">‚ö° Generate Deposit Address</button>
                </div>

                <!-- Output Section (Hidden by default) -->
                <div id="deposit-output-section" style="display: none;">
                    <hr style="border: 1px solid #333; margin: 20px 0;">

                    <!-- QR Code Container -->
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div id="qr-code-container" style="display: inline-block; background-color: #fff; padding: 20px; border-radius: 10px;">
                            <!-- QR code SVG will be inserted here -->
                        </div>
                    </div>

                    <!-- Lightning Address Output -->
                    <div class="input-group">
                        <label for="deposit-address-output" style="display: flex; align-items: center; gap: 10px;">
                            <span style="color: #ffa500; font-weight: bold;">LIGHTNING:</span>
                            <span style="flex: 1;"></span>
                        </label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="text" id="deposit-address-output" readonly style="flex: 1; background-color: #1a1a1a; color: #4CAF50; font-family: monospace; font-size: 12px; padding: 10px; border: 1px solid #4CAF50; border-radius: 5px;">
                            <button onclick="copyDepositAddress()" style="background-color: #2196F3; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; color: white; font-size: 16px;" title="Copy address to clipboard">
                                üìã
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="buttons">
            <button onclick="showAppPage()">‚Üê Back to Portfolio</button>
        </div>

        <div class="app-footer">
            <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
            <span class="footer-separator"></span>
            <div class="footer-text">
                <span>CryptFolio v2 (Beta)</span>
                <span class="footer-divider">|</span>
                <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                <span class="footer-divider">|</span>
                <span>Data by CoinGecko / MEXC</span>
            </div>
        </div>
    </div>

    <!-- BTC Withdraw Page -->
    <div id="withdraw-page" class="container" style="display: none;">
        <div class="header">
            <div>
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <h1 class="app-title">CRYPTFOLIO v2</h1>
                <p>Withdraw BTC from NH Balance</p>
            </div>

            <div class="easymining-settings-form">
                <h3 style="margin-top: 0; color: #ffa500;">üí∏ BTC Withdrawal</h3>
                <p style="color: #aaa; font-size: 14px; margin-bottom: 20px;">
                    Withdraw Bitcoin from your NiceHash available balance to your saved withdrawal address.
                </p>

                <!-- Available Balance Display -->
                <div class="input-group" style="background-color: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                    <label style="color: #4CAF50; font-weight: bold;">Available Balance:</label>
                    <div style="font-size: 24px; color: #4CAF50; font-family: monospace;">
                        <span id="withdraw-available-balance">0.00000000</span> BTC
                    </div>
                </div>

                <!-- Withdrawal Address Dropdown -->
                <div class="input-group">
                    <label for="withdraw-address-select">Withdrawal Address: *</label>
                    <select id="withdraw-address-select" style="background-color: #2a2a2a; color: #fff; padding: 10px; border: 1px solid #444; border-radius: 5px; width: 100%; font-size: 14px;">
                        <option value="">Select withdrawal address...</option>
                    </select>
                </div>

                <!-- Withdraw Amount BTC -->
                <div class="input-group">
                    <label for="withdraw-amount-btc">Withdraw Amount (BTC): *</label>
                    <input type="number" id="withdraw-amount-btc" placeholder="0.00000000" step="0.00000001" min="0" oninput="convertBtcToAudWithdraw()">
                </div>

                <!-- Withdraw Amount AUD -->
                <div class="input-group">
                    <label for="withdraw-amount-aud">Withdraw Amount (AUD): *</label>
                    <input type="number" id="withdraw-amount-aud" placeholder="0.00" step="0.01" min="0" oninput="convertAudToBtcWithdraw()">
                </div>

                <!-- Fee Display -->
                <div style="margin: 10px 0; padding: 10px; background-color: rgba(255, 165, 0, 0.1); border-radius: 5px; border-left: 3px solid #ffa500;">
                    <p style="margin: 0; color: #ffa500; font-size: 13px;">
                        <strong>Transaction Fee:</strong> 0.0001 BTC (<span id="fee-aud-display">$0.00 AUD</span>)
                    </p>
                    <p style="margin: 5px 0 0 0; color: #888; font-size: 12px;">
                        Minimum withdrawal: 0.0005 BTC
                    </p>
                </div>

                <!-- Fee Included Checkbox -->
                <div style="margin: 10px 0;">
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="fee-included-checkbox" style="margin-right: 8px; width: 18px; height: 18px; cursor: pointer;">
                        <span style="color: #fff; font-size: 14px;">Fee included in withdraw amount</span>
                    </label>
                </div>

                <!-- Add Max Amount Button -->
                <div style="margin: 10px 0;">
                    <button onclick="addMaxAmountWithdraw()" style="background-color: #2196F3; width: 100%; padding: 8px; font-size: 14px;">‚ûï Add Max Amount (includes fee)</button>
                </div>

                <!-- Note Input -->
                <div class="input-group">
                    <label for="withdraw-note">Add Note (Optional):</label>
                    <input type="text" id="withdraw-note" placeholder="Optional note for this withdrawal" maxlength="200" style="background-color: #2a2a2a; color: #fff; padding: 10px; border: 1px solid #444; border-radius: 5px; width: 100%;">
                </div>

                <!-- Execute Withdrawal Button -->
                <div style="margin: 20px 0;">
                    <button onclick="executeWithdrawal()" id="execute-withdraw-btn" style="background-color: #FF5722; width: 100%;">üí∏ Execute Withdrawal</button>
                </div>

                <!-- Warning Notice -->
                <div style="background-color: rgba(255, 87, 34, 0.1); padding: 15px; border-radius: 5px; border-left: 4px solid #FF5722;">
                    <p style="margin: 0; color: #FF5722; font-size: 14px;">
                        <strong>‚ö†Ô∏è Warning:</strong> Double-check the withdrawal address before confirming. Cryptocurrency transactions cannot be reversed.
                    </p>
                </div>

                <!-- Output Section (Hidden by default) -->
                <div id="withdraw-output-section" style="display: none;">
                    <hr style="border: 1px solid #333; margin: 20px 0;">

                    <!-- Transaction Result -->
                    <div id="withdraw-transaction-result">
                        <!-- Success/error message will be inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <div class="buttons">
            <button onclick="showAppPage()">‚Üê Back to Portfolio</button>
        </div>

        <div class="app-footer">
            <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
            <span class="footer-separator"></span>
            <div class="footer-text">
                <span>CryptFolio v2 (Beta)</span>
                <span class="footer-divider">|</span>
                <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                <span class="footer-divider">|</span>
                <span>Data by CoinGecko / MEXC</span>
            </div>
        </div>
    </div>

    <!-- CoinGecko API Settings Page -->
    <div id="coingecko-settings-page" class="container" style="display: none;">
        <div class="settings-page-content">
            <div class="settings-page-header">
                <h1>CoinGecko API</h1>
                <p>Configure your CoinGecko API keys for price data</p>
            </div>

            <!-- About Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">About</h3>
                <div class="settings-card">
                    <div class="settings-info-box">
                        <p>At least one CoinGecko API key is required to receive token data.</p>
                        <p class="settings-info-hint">Sign up & get a free or paid API key from <a href="https://www.coingecko.com/en/api/pricing" target="_blank">coingecko.com/en/api/pricing</a></p>
                        <p class="settings-info-hint">Create multiple CoinGecko accounts with demo API keys to use as fallbacks in case rate limits are reached.</p>
                    </div>
                </div>
            </div>

            <!-- API Keys Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">API Keys</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Primary API Key (Required)</span>
                            <input type="text" id="primary-api-key-page" class="settings-input" placeholder="Enter your CoinGecko API Key">
                        </div>
                        <label class="api-tier-toggle">
                            <span class="tier-label tier-free">Free</span>
                            <input type="checkbox" id="primary-api-key-paid">
                            <span class="tier-slider"></span>
                            <span class="tier-label tier-paid">Paid</span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Fallback API Key 1 (Optional)</span>
                            <input type="text" id="fallback-api-key-1-page" class="settings-input" placeholder="Enter fallback API key">
                        </div>
                        <label class="api-tier-toggle">
                            <span class="tier-label tier-free">Free</span>
                            <input type="checkbox" id="fallback-api-key-1-paid">
                            <span class="tier-slider"></span>
                            <span class="tier-label tier-paid">Paid</span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Fallback API Key 2 (Optional)</span>
                            <input type="text" id="fallback-api-key-2-page" class="settings-input" placeholder="Enter fallback API key">
                        </div>
                        <label class="api-tier-toggle">
                            <span class="tier-label tier-free">Free</span>
                            <input type="checkbox" id="fallback-api-key-2-paid">
                            <span class="tier-slider"></span>
                            <span class="tier-label tier-paid">Paid</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Actions Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Actions</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Activate API Keys</span>
                            <span class="settings-row-desc">Save and activate your CoinGecko API keys</span>
                        </div>
                        <button class="settings-action-btn" onclick="activateCoinGeckoApi()">Activate</button>
                    </div>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="settings-section">
                <h3 class="settings-section-title danger">Danger Zone</h3>
                <div class="settings-card danger">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Clear API Keys</span>
                            <span class="settings-row-desc">Remove all saved CoinGecko API keys</span>
                        </div>
                        <button class="settings-danger-btn" onclick="clearCoinGeckoApiKeys()">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Back Button -->
            <div class="settings-page-footer">
                <button class="settings-back-btn" onclick="showApiKeysPage()">‚Üê Back to API Keys</button>
            </div>

            <div class="settings-page-copyright app-footer">
                <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
                <span class="footer-separator"></span>
                <div class="footer-text">
                    <span>CryptFolio v2 (Beta)</span>
                    <span class="footer-divider">|</span>
                    <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                    <span class="footer-divider">|</span>
                    <span>Data by CoinGecko / MEXC</span>
                </div>
            </div>
        </div>
    </div>

    <!-- API Keys Hub Page -->
    <div id="api-keys-page" class="container" style="display: none;">
        <div class="settings-page-content">
            <div class="settings-page-header">
                <h1>API Keys</h1>
                <p>Configure API keys for various services used by CryptFolio</p>
            </div>

            <!-- Price Data Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Price Data (Required)</h3>
                <div class="settings-card">
                    <div class="settings-row clickable" onclick="closeApiKeysPage(); showCoinGeckoApiSettingsPage();">
                        <div class="settings-row-info">
                            <span class="settings-row-label">CoinGecko API</span>
                            <span class="settings-row-desc">Price data & market info</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                </div>
            </div>

            <!-- News & Mentions Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">News & Mentions (Optional)</h3>
                <div class="settings-card">
                    <div class="settings-row clickable" onclick="closeApiKeysPage(); showGoogleApiSettingsPage();">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Google Custom Search API</span>
                            <span class="settings-row-desc">News mentions via Google search</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                    <div class="settings-row clickable" onclick="closeApiKeysPage(); showBraveApiSettingsPage();">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Brave Search API</span>
                            <span class="settings-row-desc">News mentions via Brave search</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                    <div class="settings-row clickable" onclick="closeApiKeysPage(); showCryptoCompareApiSettingsPage();">
                        <div class="settings-row-info">
                            <span class="settings-row-label">CryptoCompare API</span>
                            <span class="settings-row-desc">Crypto news feed</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                    <div class="settings-row clickable" onclick="closeApiKeysPage(); showRedditApiSettingsPage();">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Reddit API</span>
                            <span class="settings-row-desc">Social mentions tracking</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                </div>
            </div>

            <!-- Info Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Info</h3>
                <div class="settings-card">
                    <div class="settings-info-box">
                        <p class="settings-info-hint"><strong>Note:</strong> APIs work without keys but have rate limits. Add keys for better performance.</p>
                    </div>
                </div>
            </div>

            <!-- Back Button -->
            <div class="settings-page-footer">
                <button class="settings-back-btn" onclick="showAppPage()">‚Üê Back to Portfolio</button>
            </div>

            <div class="settings-page-copyright app-footer">
                <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
                <span class="footer-separator"></span>
                <div class="footer-text">
                    <span>CryptFolio v2 (Beta)</span>
                    <span class="footer-divider">|</span>
                    <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                    <span class="footer-divider">|</span>
                    <span>Data by CoinGecko / MEXC</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Google API Settings Page -->
    <div id="google-settings-page" class="container" style="display: none;">
        <div class="settings-page-content">
            <div class="settings-page-header">
                <h1>Google Custom Search API</h1>
                <p>Enable news search for crypto mentions in charts</p>
            </div>

            <!-- Setup Instructions -->
            <div class="settings-section">
                <h3 class="settings-section-title">Setup Instructions</h3>
                <div class="settings-card">
                    <div class="settings-info-box">
                        <p>Google Custom Search enables news search for crypto mentions in the chart modal.</p>
                        <p class="settings-info-hint">1. Get an API key from <a href="https://console.cloud.google.com/apis/credentials" target="_blank">Google Cloud Console</a></p>
                        <p class="settings-info-hint">2. Enable "Custom Search API" in the API Library</p>
                        <p class="settings-info-hint">3. Create a Programmable Search Engine at <a href="https://programmablesearchengine.google.com/" target="_blank">programmablesearchengine.google.com</a></p>
                        <p class="settings-info-hint">4. Configure it to search the entire web</p>
                    </div>
                </div>
            </div>

            <!-- API Configuration -->
            <div class="settings-section">
                <h3 class="settings-section-title">API Configuration</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Google API Key</span>
                            <input type="text" id="google-api-key-input" class="settings-input" placeholder="Enter your Google API Key">
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Custom Search Engine ID (cx)</span>
                            <input type="text" id="google-cse-id-input" class="settings-input" placeholder="Enter your CSE ID">
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">API Tier</span>
                            <span class="settings-row-desc">Select your subscription level</span>
                        </div>
                        <label class="api-tier-toggle">
                            <span class="tier-label tier-free">Free</span>
                            <input type="checkbox" id="google-api-paid">
                            <span class="tier-slider"></span>
                            <span class="tier-label tier-paid">Paid</span>
                        </label>
                    </div>
                </div>
            </div>

            <div id="google-api-status" style="margin: 15px 0; padding: 10px; border-radius: 5px; display: none;"></div>

            <!-- Actions -->
            <div class="settings-section">
                <h3 class="settings-section-title">Actions</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Activate API</span>
                            <span class="settings-row-desc">Save and activate your Google API configuration</span>
                        </div>
                        <button class="settings-action-btn" onclick="activateGoogleApi()">Activate</button>
                    </div>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="settings-section">
                <h3 class="settings-section-title danger">Danger Zone</h3>
                <div class="settings-card danger">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Clear API Keys</span>
                            <span class="settings-row-desc">Remove all saved Google API keys</span>
                        </div>
                        <button class="settings-danger-btn" onclick="clearGoogleApiKeys()">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Back Button -->
            <div class="settings-page-footer">
                <button class="settings-back-btn" onclick="showApiKeysPage()">‚Üê Back to API Keys</button>
            </div>

            <div class="settings-page-copyright app-footer">
                <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
                <span class="footer-separator"></span>
                <div class="footer-text">
                    <span>CryptFolio v2 (Beta)</span>
                    <span class="footer-divider">|</span>
                    <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                    <span class="footer-divider">|</span>
                    <span>Data by CoinGecko / MEXC</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Brave API Settings Page -->
    <div id="brave-settings-page" class="container" style="display: none;">
        <div class="settings-page-content">
            <div class="settings-page-header">
                <h1>Brave Search API</h1>
                <p>Enable news search for crypto mentions in charts</p>
            </div>

            <!-- About Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">About</h3>
                <div class="settings-card">
                    <div class="settings-info-box">
                        <p>Brave Search API enables news search for crypto mentions in the chart modal.</p>
                        <p class="settings-info-hint">Get a free API key (2000 queries/month) from <a href="https://brave.com/search/api/" target="_blank">brave.com/search/api</a></p>
                    </div>
                </div>
            </div>

            <!-- API Configuration -->
            <div class="settings-section">
                <h3 class="settings-section-title">API Configuration</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Brave API Key</span>
                            <input type="text" id="brave-api-key-input" class="settings-input" placeholder="Enter your Brave Search API Key">
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">API Tier</span>
                            <span class="settings-row-desc">Select your subscription level</span>
                        </div>
                        <label class="api-tier-toggle">
                            <span class="tier-label tier-free">Free</span>
                            <input type="checkbox" id="brave-api-paid">
                            <span class="tier-slider"></span>
                            <span class="tier-label tier-paid">Paid</span>
                        </label>
                    </div>
                </div>
            </div>

            <div id="brave-api-status" style="margin: 15px 0; padding: 10px; border-radius: 5px; display: none;"></div>

            <!-- Actions -->
            <div class="settings-section">
                <h3 class="settings-section-title">Actions</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Activate API Key</span>
                            <span class="settings-row-desc">Save and activate your Brave API key</span>
                        </div>
                        <button class="settings-action-btn" onclick="activateBraveApi()">Activate</button>
                    </div>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="settings-section">
                <h3 class="settings-section-title danger">Danger Zone</h3>
                <div class="settings-card danger">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Clear API Key</span>
                            <span class="settings-row-desc">Remove saved Brave API key</span>
                        </div>
                        <button class="settings-danger-btn" onclick="clearBraveApiKey()">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Back Button -->
            <div class="settings-page-footer">
                <button class="settings-back-btn" onclick="showApiKeysPage()">‚Üê Back to API Keys</button>
            </div>

            <div class="settings-page-copyright app-footer">
                <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
                <span class="footer-separator"></span>
                <div class="footer-text">
                    <span>CryptFolio v2 (Beta)</span>
                    <span class="footer-divider">|</span>
                    <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                    <span class="footer-divider">|</span>
                    <span>Data by CoinGecko / MEXC</span>
                </div>
            </div>
        </div>
    </div>

    <!-- CryptoCompare API Settings Page -->
    <div id="cryptocompare-settings-page" class="container" style="display: none;">
        <div class="settings-page-content">
            <div class="settings-page-header">
                <h1>CryptoCompare API</h1>
                <p>Crypto news feed for chart mentions</p>
            </div>

            <!-- About Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">About</h3>
                <div class="settings-card">
                    <div class="settings-info-box">
                        <p>CryptoCompare provides crypto news for mentions in the chart modal.</p>
                        <p style="color: #28a745;"><strong>Works without API key</strong> (public tier: 100k calls/month)</p>
                        <p class="settings-info-hint">Add an optional API key for higher rate limits from <a href="https://min-api.cryptocompare.com/" target="_blank">min-api.cryptocompare.com</a></p>
                    </div>
                </div>
            </div>

            <!-- API Configuration -->
            <div class="settings-section">
                <h3 class="settings-section-title">API Configuration</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">API Key (Optional)</span>
                            <input type="text" id="cryptocompare-api-key-input" class="settings-input" placeholder="Leave empty for public tier">
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">API Tier</span>
                            <span class="settings-row-desc">Select your subscription level</span>
                        </div>
                        <label class="api-tier-toggle">
                            <span class="tier-label tier-free">Free</span>
                            <input type="checkbox" id="cryptocompare-api-paid">
                            <span class="tier-slider"></span>
                            <span class="tier-label tier-paid">Paid</span>
                        </label>
                    </div>
                </div>
            </div>

            <div id="cryptocompare-api-status" style="margin: 15px 0; padding: 10px; border-radius: 5px; display: none;"></div>

            <!-- Actions -->
            <div class="settings-section">
                <h3 class="settings-section-title">Actions</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Activate API Key</span>
                            <span class="settings-row-desc">Save and activate your CryptoCompare API key</span>
                        </div>
                        <button class="settings-action-btn" onclick="activateCryptoCompareApi()">Activate</button>
                    </div>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="settings-section">
                <h3 class="settings-section-title danger">Danger Zone</h3>
                <div class="settings-card danger">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Clear API Key</span>
                            <span class="settings-row-desc">Remove saved CryptoCompare API key</span>
                        </div>
                        <button class="settings-danger-btn" onclick="clearCryptoCompareApiKey()">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Back Button -->
            <div class="settings-page-footer">
                <button class="settings-back-btn" onclick="showApiKeysPage()">‚Üê Back to API Keys</button>
            </div>

            <div class="settings-page-copyright app-footer">
                <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
                <span class="footer-separator"></span>
                <div class="footer-text">
                    <span>CryptFolio v2 (Beta)</span>
                    <span class="footer-divider">|</span>
                    <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                    <span class="footer-divider">|</span>
                    <span>Data by CoinGecko / MEXC</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Reddit API Settings Page -->
    <div id="reddit-settings-page" class="container" style="display: none;">
        <div class="settings-page-content">
            <div class="settings-page-header">
                <h1>Reddit API</h1>
                <p>Social mentions tracking in charts</p>
            </div>

            <!-- About Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">About</h3>
                <div class="settings-card">
                    <div class="settings-info-box">
                        <p>Reddit API enables social mentions tracking in the chart modal.</p>
                        <p style="color: #28a745;"><strong>Works without API key</strong> (public tier - rate limited)</p>
                        <p class="settings-info-hint">For better rate limits (100 req/min vs 10 req/min), register an app at <a href="https://www.reddit.com/prefs/apps" target="_blank">reddit.com/prefs/apps</a></p>
                        <p class="settings-info-hint">Select "script" type and use any redirect URI (e.g., http://localhost)</p>
                    </div>
                </div>
            </div>

            <!-- API Configuration -->
            <div class="settings-section">
                <h3 class="settings-section-title">API Configuration</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Client ID (Optional)</span>
                            <input type="text" id="reddit-client-id-input" class="settings-input" placeholder="Leave empty for public tier">
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info" style="flex: 1;">
                            <span class="settings-row-label">Client Secret (Optional)</span>
                            <input type="password" id="reddit-client-secret-input" class="settings-input" placeholder="Leave empty for public tier">
                        </div>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">API Tier</span>
                            <span class="settings-row-desc">Select your subscription level</span>
                        </div>
                        <label class="api-tier-toggle">
                            <span class="tier-label tier-free">Free</span>
                            <input type="checkbox" id="reddit-api-paid">
                            <span class="tier-slider"></span>
                            <span class="tier-label tier-paid">Paid</span>
                        </label>
                    </div>
                </div>
            </div>

            <div id="reddit-api-status" style="margin: 15px 0; padding: 10px; border-radius: 5px; display: none;"></div>

            <!-- Actions -->
            <div class="settings-section">
                <h3 class="settings-section-title">Actions</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Activate API</span>
                            <span class="settings-row-desc">Save and activate your Reddit API settings</span>
                        </div>
                        <button class="settings-action-btn" onclick="activateRedditApi()">Activate</button>
                    </div>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="settings-section">
                <h3 class="settings-section-title danger">Danger Zone</h3>
                <div class="settings-card danger">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Clear API Settings</span>
                            <span class="settings-row-desc">Remove saved Reddit API settings</span>
                        </div>
                        <button class="settings-danger-btn" onclick="clearRedditApiSettings()">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Back Button -->
            <div class="settings-page-footer">
                <button class="settings-back-btn" onclick="showApiKeysPage()">‚Üê Back to API Keys</button>
            </div>

            <div class="settings-page-copyright app-footer">
                <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
                <span class="footer-separator"></span>
                <div class="footer-text">
                    <span>CryptFolio v2 (Beta)</span>
                    <span class="footer-divider">|</span>
                    <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                    <span class="footer-divider">|</span>
                    <span>Data by CoinGecko / MEXC</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Buy Packages Page -->
    <div id="buy-packages-page" class="container" style="display: none;">
        <div class="header">
            <div>
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <h1 class="app-title">CRYPTFOLIO v2</h1>
                <p>Buy EasyMining Packages</p>
            </div>

            <!-- Recommendations Section (Hidden - recommendations show in EasyMining section only) -->
            <div class="recommendations-section" style="margin-bottom: 30px; display: none;">
                <h3>Recommended Packages (Based on Your Alerts)</h3>
                <div id="buy-packages-recommendations" class="recommendations-container"></div>
            </div>

            <!-- Balance Section -->
            <div id="buy-packages-balance-section" style="margin-bottom: 20px;"></div>

            <div class="buy-packages-form">
                <div class="buy-packages-tabs">
                    <button class="tab-button active" onclick="showBuyTabOnPage('single')">Single Packages</button>
                    <button class="tab-button" onclick="showBuyTabOnPage('team')">Team Packages</button>
                </div>
                <div id="buy-single-packages-page" class="buy-packages-container-page"></div>
                <div id="buy-team-packages-page" class="buy-packages-container-page" style="display: none;"></div>
            </div>
        </div>

        <div class="buttons">
            <button onclick="showAppPage()">‚Üê Back</button>
        </div>

        <div class="app-footer">
            <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
            <span class="footer-separator"></span>
            <div class="footer-text">
                <span>CryptFolio v2 (Beta)</span>
                <span class="footer-divider">|</span>
                <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                <span class="footer-divider">|</span>
                <span>Data by CoinGecko / MEXC</span>
            </div>
        </div>
    </div>

    <!-- Package Detail Page -->
    <div id="package-detail-page" class="container" style="display: none;">
        <div class="header">
            <div>
                <img src="ausolpay-logo.png" alt="Ausolpay Logo" class="app-logo">
                <h1 class="app-title">CRYPTFOLIO v2</h1>
                <p id="package-detail-page-subtitle">Package Details</p>
            </div>

            <div class="package-detail-page-content">
                <h2 id="package-detail-page-name" style="color: #ffa500;">Package Name</h2>
                <div id="package-detail-page-info" class="package-info-grid"></div>

                <div class="block-animation-section">
                    <h3 style="color: #ffa500;">Block Mining Progress</h3>
                    <div id="package-detail-page-blocks" class="block-bars-container"></div>
                </div>
            </div>
        </div>

        <div class="buttons">
            <button onclick="showAppPage()">‚Üê Back</button>
        </div>

        <div class="app-footer">
            <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
            <span class="footer-separator"></span>
            <div class="footer-text">
                <span>CryptFolio v2 (Beta)</span>
                <span class="footer-divider">|</span>
                <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                <span class="footer-divider">|</span>
                <span>Data by CoinGecko / MEXC</span>
            </div>
        </div>
    </div>

    <!-- Settings Page -->
    <div id="settings-page" class="container" style="display: none;">
        <div class="settings-page-content">
            <div class="settings-page-header">
                <h1>App Settings</h1>
                <p>Manage your CryptFolio preferences</p>
            </div>

            <!-- Appearance Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Appearance</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Dark Mode</span>
                            <span class="settings-row-desc">Switch between dark and light theme</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="dark-mode-toggle-page" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Fullscreen Mode</span>
                            <span class="settings-row-desc">Enter fullscreen view</span>
                        </div>
                        <button class="settings-action-btn" id="fullscreenBtn-page">Enter</button>
                    </div>
                </div>
            </div>

            <!-- Audio & Notifications Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Audio & Notifications</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Holdings Audio</span>
                            <span class="settings-row-desc">Play sounds for holdings updates</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="holdings-audio-toggle-page">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Holdings Vibration</span>
                            <span class="settings-row-desc">Vibrate on holdings changes</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="holdings-vibrate-toggle-page">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">EasyMining Audio</span>
                            <span class="settings-row-desc">Play sounds for mining alerts</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="easymining-audio-toggle-page">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">EasyMining Vibration</span>
                            <span class="settings-row-desc">Vibrate on mining events</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="easymining-vibrate-toggle-page">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Integrations Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Integrations</h3>
                <div class="settings-card">
                    <div class="settings-row clickable" onclick="closeSettingsPage(); showEasyMiningSettingsPage();">
                        <div class="settings-row-info">
                            <span class="settings-row-label">EasyMining Settings</span>
                            <span class="settings-row-desc">Configure NiceHash EasyMining</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                    <div class="settings-row clickable" onclick="closeSettingsPage(); showApiKeysPage();">
                        <div class="settings-row-info">
                            <span class="settings-row-label">API Keys</span>
                            <span class="settings-row-desc">Manage CoinGecko API keys</span>
                        </div>
                        <span class="settings-arrow">‚Üí</span>
                    </div>
                </div>
            </div>

            <!-- Data Management Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Data Management</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Reset Percentage</span>
                            <span class="settings-row-desc">Reset 24h change percentage tracking</span>
                        </div>
                        <button class="settings-action-btn" onclick="confirmResetPercentage()">Reset</button>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Reset High/Low</span>
                            <span class="settings-row-desc">Reset all-time high and low values</span>
                        </div>
                        <button class="settings-action-btn" onclick="confirmResetHighLow()">Reset</button>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Reset Milestone</span>
                            <span class="settings-row-desc">Reset milestone achievements</span>
                        </div>
                        <button class="settings-action-btn" onclick="confirmResetMilestone()">Reset</button>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Clear Mentions Cache</span>
                            <span class="settings-row-desc">Clear cached social mentions data</span>
                        </div>
                        <button class="settings-action-btn" onclick="clearMentionsCache()">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Danger Zone Section -->
            <div class="settings-section">
                <h3 class="settings-section-title danger">Danger Zone</h3>
                <div class="settings-card danger">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Clear All Data</span>
                            <span class="settings-row-desc">Reset app to default state</span>
                        </div>
                        <button class="settings-danger-btn" onclick="confirmClearData()">Clear</button>
                    </div>
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Clear All Holdings</span>
                            <span class="settings-row-desc">Delete all cryptocurrency holdings</span>
                        </div>
                        <button class="settings-danger-btn" onclick="showClearHoldingsModal()">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Back Button -->
            <div class="settings-page-footer">
                <button class="settings-back-btn" onclick="closeSettingsPage()">‚Üê Back to Portfolio</button>
            </div>

            <div class="settings-page-copyright app-footer">
                <img src="ausolpay-logo.png" alt="AusolPay Logo" class="footer-logo">
                <span class="footer-separator"></span>
                <div class="footer-text">
                    <span>CryptFolio v2 (Beta)</span>
                    <span class="footer-divider">|</span>
                    <span><a href="https://www.ausolpay.com.au" target="_blank">AusolPay</a> ¬© <span class="current-year"></span></span>
                    <span class="footer-divider">|</span>
                    <span>Data by CoinGecko / MEXC</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Account Settings Page -->
    <div id="account-settings-page" class="container" style="display: none;">
        <div class="settings-page-content">
            <div class="settings-page-header">
                <button class="back-btn" onclick="closeAccountSettingsPage()">‚Üê Back</button>
                <h1>Account Settings</h1>
                <p class="settings-subtitle">Manage your profile and account</p>
            </div>

            <!-- Profile Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Profile</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Profile Icon</span>
                            <span class="settings-row-desc">Choose your avatar</span>
                        </div>
                        <div class="current-profile-icon" id="current-profile-icon" onclick="showProfileIconPicker()">
                            üë§
                        </div>
                    </div>
                </div>
            </div>

            <!-- Security Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">Security</h3>
                <div class="settings-card">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Change Password</span>
                            <span class="settings-row-desc">Update your account password</span>
                        </div>
                        <button class="settings-action-btn" onclick="showChangePasswordModal()">Change</button>
                    </div>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="settings-section">
                <h3 class="settings-section-title danger">Danger Zone</h3>
                <div class="settings-card danger">
                    <div class="settings-row">
                        <div class="settings-row-info">
                            <span class="settings-row-label">Delete Account</span>
                            <span class="settings-row-desc">Permanently delete your account and all data</span>
                        </div>
                        <button class="settings-danger-btn" onclick="showDeleteAccountModal()">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSettingsModal()">&times;</span>
            <h2 class="settings-title">SETTINGS</h2>
            <div class="buttons">
                <button id="clear-data-button" onclick="confirmClearData()">Clear Data</button>
                <button id="reset-percentage-button" onclick="confirmResetPercentage()">Reset %</button>
                <button id="reset-high-low-button" onclick="confirmResetHighLow()">Reset H/L</button>
                <button id="reset-milestone-button" onclick="confirmResetMilestone()">Reset Milestone</button>
                <button id="clear-mentions-button" onclick="clearMentionsCache()">Clear Mentions</button>
                <button id="clear-holdings-button" onclick="showClearHoldingsModal()" style="background-color: #f44336;">Clear Holdings</button>
                <button id="fullscreenBtn">Fullscreen</button>
            </div>
            <div class="toggles">
                <div class="audio-toggle">
                    <label class="switch">
                        <input type="checkbox" id="holdings-audio-toggle">
                        <span class="slider"></span>
                    </label>
                    <span>Holdings Audio</span>
                </div>
                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="holdings-vibrate-toggle">
                        <span class="slider round"></span>
                    </label>
                    <label for="holdings-vibrate-toggle" id="holdings-vibrate-label">Holdings Vibe: Off</label>
                </div>
                <div class="audio-toggle">
                    <label class="switch">
                        <input type="checkbox" id="easymining-audio-toggle">
                        <span class="slider"></span>
                    </label>
                    <span>EasyMining Audio</span>
                </div>
                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="easymining-vibrate-toggle">
                        <span class="slider round"></span>
                    </label>
                    <label for="easymining-vibrate-toggle" id="easymining-vibrate-label">EasyMining Vibe: Off</label>
                </div>
                <div class="dark-mode-toggle">
                    <label class="switch">
                        <input type="checkbox" id="dark-mode-toggle" checked>
                        <span class="slider"></span>
                    </label>
                    <span>Dark Mode</span>
                </div>
            </div>
            <div style="margin-top: 20px;">
                <button id="easymining-settings-btn" onclick="closeSettingsModal(); showEasyMiningSettingsPage();">EasyMining</button>
                <button id="api-keys-btn" onclick="closeSettingsModal(); showApiKeysPage();">API Keys</button>
                <button class="delete-button" onclick="closeSettingsModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Modal for Clear Holdings Confirmation -->
    <div id="clear-holdings-modal" class="modal">
        <div class="modal-content" style="max-width: 450px;">
            <span class="close" onclick="closeClearHoldingsModal()">&times;</span>
            <h2 style="color: #f44336; margin-bottom: 15px;">‚ö†Ô∏è Clear All Holdings</h2>
            <div style="background: rgba(244, 67, 54, 0.1); border: 1px solid #f44336; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                <p style="color: #ff6b6b; font-weight: bold; margin-bottom: 10px;">This action cannot be undone!</p>
                <p style="margin-bottom: 10px;">This will permanently delete:</p>
                <ul style="text-align: left; margin-left: 20px; margin-bottom: 10px;">
                    <li>All holdings entries for all cryptocurrencies</li>
                    <li>All transaction history</li>
                    <li>All PnL tracking data</li>
                </ul>
                <p style="color: #ffcc00;">You will need to re-add all holdings manually.</p>
            </div>
            <div style="display: flex; gap: 10px; justify-content: center;">
                <button onclick="closeClearHoldingsModal()" style="background-color: #666; padding: 10px 25px;">Cancel</button>
                <button onclick="confirmClearAllHoldings()" style="background-color: #f44336; padding: 10px 25px;">Clear Everything</button>
            </div>
        </div>
    </div>

    <!-- Modal for terms and conditions -->
    <div id="terms-conditions-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTermsConditions()">&times;</span>
            <h2>Terms and Conditions</h2>
            <div class="terms-conditions-content">
                <p>By using this app, you agree to the collection and use of your data for tracking your cryptocurrency holdings. We may use your data for remarketing purposes. Your data will be stored locally and will not be shared with third parties. By registering, you agree to receive communications related to the app. You can opt out of these communications at any time. Use of the app is at your own risk, and we are not responsible for any financial losses incurred.</p>
            </div>
        </div>
    </div>

    <!-- Modal for pop-up messages -->
    <div id="popup-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p id="modal-message"></p>
        </div>
    </div>

    <!-- Modal for total holdings -->
    <div id="total-holdings-modal" class="modal holdings-modal">
        <div class="holdings-modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="total-holdings-content">
                <!-- Total holdings content will be dynamically inserted here -->
            </div>
            <div id="modal-lottie-container" style="position: absolute; bottom: 0; left: 0; right: 0; height: 100%; width: 100%; overflow: hidden; display: none; pointer-events: none;">
                <lottie-player id="modal-milestone-animation" src="https://lottie.host/ffe369c1-ce7f-4005-a652-528160576322/Eki4u779U6.json" background="transparent" speed="1" style="width: 100%; height: 100%;" loop autoplay></lottie-player>
            </div>
        </div>
    </div>

    <div id="candlestick-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCandlestickModal()">&times;</span>
            <div id="crypto-info" class="crypto-info">
                <img id="crypto-icon" src="" alt="Crypto Icon" class="crypto-icon">
                <span id="crypto-name" class="crypto-name"></span>
            </div>

            <!-- TradingView Chart Container -->
            <div id="tradingview-chart-container" class="tradingview-chart"></div>

            <!-- RSI Bar (below chart, above live price) -->
            <div class="rsi-bar-section">
              <div class="rsi-bar-container">
                <div class="rsi-bar-gradient"></div>
                <div id="rsi-indicator" class="rsi-indicator" style="left: 50%;"></div>
                <div id="rsi-score-badge" class="rsi-score-badge">50</div>
              </div>
              <div class="rsi-zone-labels">
                <span class="rsi-zone oversold">Oversold</span>
                <span class="rsi-zone neutral">Neutral</span>
                <span class="rsi-zone overbought">Overbought</span>
              </div>
              <div class="rsi-tick-labels">
                <span>0</span>
                <span>30</span>
                <span>50</span>
                <span>70</span>
                <span>100</span>
              </div>
            </div>

            <!-- Price Info Panel -->
            <div class="price-info-panel">
              <div class="price-info-main">
                <h1 id="live-price" class="live-price"></h1>
              </div>
              <div class="price-info-divider"></div>
              <div class="price-info-conversion">
                <p id="holdings-info" class="holdings-info"></p>
              </div>
              <div class="price-info-divider"></div>
              <div class="price-info-changes">
                <p id="modal-percentage-changes" class="modal-percentage-changes"></p>
              </div>
            </div>

            <div id="modal-info" class="modal-info">

            <div id="crypto-modal">
                
                <table class="crypto-info-table">
                    <tr>
                        <td><strong>Market Cap Rank:</strong></td>
                        <td id="marketCapRank"></td>
                    </tr>
                    <tr>
                        <td><strong>FDV:</strong></td>
                        <td id="fdv"></td>
                    </tr>
                    
                    <tr>
                        <td><strong>24h Trading Volume:</strong></td>
                        <td id="liquidity"></td>
                    </tr>
                    <tr>
                        <td><strong>24h Low / 24h High:</strong></td>
                        <td id="lowHigh"></td>
                    </tr>
                    <tr>
                        <td><strong>Circulating Supply:</strong></td>
                        <td id="circulatingSupply"></td>
                    </tr>
                    <tr>
                        <td><strong>Total Supply:</strong></td>
                        <td id="totalSupply"></td>
                    </tr>
                    <tr>
                        <td><strong>Max Supply:</strong></td>
                        <td id="maxSupply"></td>
                    </tr>
                    <tr>
                        <td><strong>ATH / ATL:</strong></td>
                        <td id="athAtl"></td>
                    </tr>
                    <tr>
                        <td><strong>RSI (14):</strong></td>
                        <td id="rsiValue"></td>
                    </tr>
                    <!-- Mentions count from news articles and Reddit (last 30 days) -->
                    <tr>
                        <td style="cursor: pointer;" onclick="toggleMentionsBreakdown()">
                            <span id="mentions-arrow" style="font-size: 10px; margin-right: 6px; transition: transform 0.2s; color: #888; display: inline-block;">‚ñ∂</span><strong>Mentions (30d):</strong>
                        </td>
                        <td id="mentions30d"></td>
                    </tr>
                    <!-- Mentions source breakdown (hidden by default) -->
                    <tr id="mentions-breakdown-row" style="display: none;">
                        <td colspan="2" style="padding-left: 20px;">
                            <div id="mentions-breakdown" class="mentions-breakdown"></div>
                        </td>
                    </tr>
                </table>

                <div class="sentiment-section">
                  <div class="sentiment-bar-container">
                    <div id="bearish-bar" class="sentiment-bar bearish-bar"></div>
                    <div id="bullish-bar" class="sentiment-bar bullish-bar"></div>
                    <div id="sentiment-score-badge" class="sentiment-score-badge">50</div>
                  </div>
                  <div class="sentiment-labels">
                    <span id="bearish-label">Bearish: 50%</span>
                    <span id="sentiment-overall-label" class="sentiment-overall-label neutral">Neutral</span>
                    <span id="bullish-label">Bullish: 50%</span>
                  </div>
                </div>

                <!-- Holdings Tracking Section (Collapsible) -->
                <div class="holdings-tracking-section" id="holdings-tracking-section">
                    <div class="holdings-tracking-header" onclick="toggleHoldingsTracking()">
                        <span class="holdings-collapse-icon" id="holdings-collapse-icon">‚ñº</span>
                        <span>Holdings Tracker</span>
                    </div>

                    <div class="holdings-tracking-content" id="holdings-tracking-content" style="display: none;">
                        <!-- Tabs -->
                        <div class="holdings-tabs">
                            <button class="holdings-tab active" onclick="switchHoldingsTab('holdings')">
                                Holdings <span id="holdings-tab-count" class="tab-count">0</span>
                            </button>
                            <button class="holdings-tab" onclick="switchHoldingsTab('history')">
                                History <span id="history-tab-count" class="tab-count">0</span>
                            </button>
                        </div>

                        <!-- Holdings Tab Content -->
                        <div id="holdings-tab-content" class="holdings-tab-content">
                            <div id="holdings-entries-container" class="holdings-entries-container"></div>

                            <!-- Pagination -->
                            <div class="holdings-carousel-controls" id="holdings-carousel-controls" style="display: none;">
                                <button class="holdings-arrow left" id="holdings-arrow-left" onclick="prevHoldingsPage()" disabled>‚Äπ</button>
                                <span class="holdings-page-count" id="holdings-page-count">1 of 1</span>
                                <button class="holdings-arrow right" id="holdings-arrow-right" onclick="nextHoldingsPage()">‚Ä∫</button>
                            </div>
                        </div>

                        <!-- History Tab Content -->
                        <div id="history-tab-content" class="holdings-tab-content" style="display: none;">
                            <div id="history-entries-container" class="history-entries-container"></div>

                            <!-- Pagination -->
                            <div class="history-carousel-controls" id="history-carousel-controls" style="display: none;">
                                <button class="history-arrow left" id="history-arrow-left" onclick="prevHistoryPage()" disabled>‚Äπ</button>
                                <span class="history-page-count" id="history-page-count">1 of 1</span>
                                <button class="history-arrow right" id="history-arrow-right" onclick="nextHistoryPage()">‚Ä∫</button>
                            </div>
                        </div>

                        <!-- Total PnL Summary -->
                        <div class="holdings-pnl-summary">
                            <div class="pnl-item">
                                <span class="pnl-label">Unrealized P&L:</span>
                                <span id="total-unrealized-pnl" class="pnl-value">$0.00</span>
                            </div>
                            <div class="pnl-item">
                                <span class="pnl-label">Realized P&L:</span>
                                <span id="total-realized-pnl" class="pnl-value">$0.00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- News Articles Slider -->
                <div class="news-slider-section">
                    <h4 class="news-slider-title">Latest News</h4>
                    <div id="news-slider-container" class="news-slider-container">
                        <div class="news-slider-message">Loading news...</div>
                    </div>
                </div>

              </div>

              <!-- Conversion Calculator -->
              <div class="conversion-calculator">
                <div class="conversion-inputs">
                    <div class="conversion-input-group">
                        <label for="crypto-amount-input">Crypto Amount:</label>
                        <input type="number" id="crypto-amount-input" placeholder="1" value="1" step="any" oninput="calculateFromCrypto()">
                    </div>
                    <div class="conversion-input-group">
                        <label for="aud-amount-input">AUD Amount:</label>
                        <input type="number" id="aud-amount-input" placeholder="0.00" step="any" oninput="calculateFromAUD()">
                    </div>
                </div>
              </div>

       </div>
    </div>

   

    <div id="lottie-container" style="display: none;">
        <lottie-player
            id="milestone-animation"
            src="https://lottie.host/ffe369c1-ce7f-4005-a652-528160576322/Eki4u779U6.json"
            background="transparent"
            speed="1"
            style="width: 100%; height: 100%;"
            loop
            autoplay
        ></lottie-player>
    </div>

    <div id="content-container" style="display: none;">
        <!-- Dynamic content will be loaded here -->
    </div>

    <!-- EasyMining Settings Modal -->
    <!-- Package Detail Modal -->
    <div id="package-detail-modal" class="modal">
        <div class="modal-content package-detail-content">
            <span class="close" onclick="closePackageDetailModal()">&times;</span>
            <h2 id="package-detail-name">Package Name</h2>
            <div id="package-detail-info" class="package-info-grid"></div>
            <div class="block-animation-section">
                <h3>Block Mining Progress</h3>
                <div id="block-bars-container" class="block-bars-container"></div>
            </div>
        </div>
    </div>

    <!-- Buy Packages Modal -->

    <!-- Profile Icon Picker Modal -->
    <div id="profile-icon-picker-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 400px;">
            <span class="close" onclick="closeProfileIconPicker()">&times;</span>
            <h2>Choose Profile Icon</h2>
            <div class="profile-icon-grid" id="profile-icon-grid">
                <!-- Icons populated by JS -->
            </div>
            <button class="modal-close-btn" onclick="closeProfileIconPicker()">Cancel</button>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="change-password-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 400px;">
            <span class="close" onclick="closeChangePasswordModal()">&times;</span>
            <h2>Change Password</h2>
            <input type="password" id="current-password" class="settings-input" placeholder="Current Password">
            <input type="password" id="new-password" class="settings-input" placeholder="New Password">
            <input type="password" id="confirm-new-password" class="settings-input" placeholder="Confirm New Password">
            <div class="modal-buttons">
                <button class="modal-close-btn" onclick="closeChangePasswordModal()">Cancel</button>
                <button class="settings-action-btn" onclick="updatePassword()">Update</button>
            </div>
        </div>
    </div>

    <!-- Delete Account Modal -->
    <div id="delete-account-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 400px;">
            <span class="close" onclick="closeDeleteAccountModal()">&times;</span>
            <h2 style="color: #f44336;">Delete Account</h2>
            <p style="color: #888; margin-bottom: 15px;">This action cannot be undone. All your data will be permanently deleted.</p>
            <p style="color: #fff; margin-bottom: 10px;">Type <strong>DELETE</strong> to confirm:</p>
            <input type="text" id="delete-confirm-input" class="settings-input" placeholder="Type DELETE">
            <div class="modal-buttons">
                <button class="modal-close-btn" onclick="closeDeleteAccountModal()">Cancel</button>
                <button class="settings-danger-btn" onclick="deleteAccount()">Delete Account</button>
            </div>
        </div>
    </div>

    <!-- Audio elements for notifications -->
    <!-- Holdings Sounds -->
    <audio id="good-sound" src="sounds/good-sound.mp3" preload="auto" muted></audio>
    <audio id="bad-sound" src="sounds/bad-sound.mp3" preload="auto" muted></audio>
    <audio id="level-up-sound" src="sounds/level-up-sound.mp3" preload="auto" muted></audio>
    <audio id="warning-sound" src="sounds/warning-sound.mp3" preload="auto" muted></audio>
    <audio id="milestone-sound" src="sounds/milestone-sound.mp3" preload="auto" muted></audio>
    <audio id="record-high-sound" src="sounds/record-high-sound.mp3" preload="auto" muted></audio>

    <!-- EasyMining Sounds -->
    <audio id="block-found-sound" src="sounds/blockfound.mp3" preload="auto" muted></audio>
    <audio id="no-blocks-found-sound" src="sounds/noblocksfound.mp3" preload="auto" muted></audio>
    <audio id="block-found-complete-sound" src="sounds/blockfoundcomplete.mp3" preload="auto" muted></audio>
    <audio id="package-start-sound" src="sounds/packagestart.mp3" preload="auto" muted></audio>

    <!-- Package Alert Sounds -->
    <audio id="solo-pkg-alert-sound" src="sounds/solopkgalert.mp3" preload="auto" muted></audio>
    <audio id="team-pkg-alert-sound" src="sounds/teampkgalert.mp3" preload="auto" muted></audio>






    <!-- Scripts -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/push.js/1.0.12/push.min.js"></script>
    <!-- TradingView Charting Library -->
    <script src="https://s3.tradingview.com/tv.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <!-- Protocol Buffers library for MEXC WebSocket -->
    <script src="https://cdn.jsdelivr.net/npm/protobufjs@7.2.5/dist/protobuf.min.js"></script>

    <script src="scripts.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', initializeApp);

        document.addEventListener('DOMContentLoaded', () => {
            let fadeTimeout;
            let cursorTimeout;

            const showScrollbarAndCursor = () => {
                clearTimeout(fadeTimeout);
                clearTimeout(cursorTimeout);
                document.body.classList.add('show-scrollbar');
                document.documentElement.classList.add('show-scrollbar');
                document.body.style.cursor = 'auto'; // Show cursor

                fadeTimeout = setTimeout(() => {
                    document.body.classList.remove('show-scrollbar');
                    document.documentElement.classList.remove('show-scrollbar');
                }, 3000); // Hide scrollbar after 2 seconds

                cursorTimeout = setTimeout(() => {
                    document.body.style.cursor = 'none'; // Hide cursor after 2 seconds
                }, 3000);
            };

            document.addEventListener('mousemove', showScrollbarAndCursor);
            document.addEventListener('scroll', showScrollbarAndCursor);
        });

        document.getElementById('crypto-id-input').addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                addCrypto();
            }
        });

        document.querySelectorAll('[id$="-input"]').forEach(input => {
            input.addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    const cryptoId = this.id.replace('-input', '');
                    updateHoldings(cryptoId);
                }
            });
        });

        document.getElementById('confirm-password').addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                register();
            }
        });
    </script>
</body>
</html>
